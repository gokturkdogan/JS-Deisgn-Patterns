<!DOCTYPE html>
<html>

<head>
    <title>Vergi Hesaplama</title>
</head>

<body>
    <h1>Vergi Hesaplama</h1>

    <form id="kdvForm">
        <h3>KDV (Katma Değer Vergisi)</h3>
        <label for="kdvAmount">Miktar (TL):</label>
        <input type="number" id="kdvAmount" />
        <button type="button" onclick="calculateTax('kdv')">Hesapla</button>
        <div id="kdvResult"></div>
    </form>

    <form id="incomeTaxForm">
        <h3>Gelir Vergisi</h3>
        <label for="incomeTaxAmount">Miktar (TL):</label>
        <input type="number" id="incomeTaxAmount" />
        <button type="button" onclick="calculateTax('incomeTax')">Hesapla</button>
        <div id="incomeTaxResult"></div>
    </form>

    <script>
        class KdvStrategy {
            calculate(amount) {
                const kdvRate = 0.18; // %18 KDV oranı
                const kdvAmount = amount * kdvRate;
                return kdvAmount;
            }
        }

        class IncomeTaxStrategy {
            calculate(amount) {
                const taxRate = 0.25; // %25 Gelir Vergisi oranı
                const taxAmount = amount * taxRate;
                return taxAmount;
            }
        }

        class TaxCalculator {
            constructor() {
                this.strategies = {
                    kdv: new KdvStrategy(),
                    incomeTax: new IncomeTaxStrategy(),
                };
                this.strategy = null;
            }

            setStrategy(strategy) {
                this.strategy = this.strategies[strategy];
            }

            calculateManager(amount) {
                const taxAmount = this.strategy.calculate(amount);
                console.log(`Hesaplanan Vergi Miktarı: ${taxAmount.toFixed(2)} TL`);
                return taxAmount.toFixed(2);
            }
        }

        function calculateTax(strategy) {
            const amountInput = document.getElementById(`${strategy}Amount`);
            const amount = amountInput.value;
            const taxCalculator = new TaxCalculator();
            taxCalculator.setStrategy(strategy);
            const result = taxCalculator.calculateManager(amount);
            document.getElementById(`${strategy}Result`).innerText = `Hesaplanan Vergi Miktarı: ${result} TL`;
        }
    </script>
</body>

</html>